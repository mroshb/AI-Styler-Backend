# ุฑุงูููุง ุณุฑุน ุงุณุชุงุฑุช ุฑุจุงุช ุชูฺฏุฑุงู

## ูุถุนุช ูุนู

โ **Backend ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุช** (ุฑู ูพูุฑุช 8080 - ููุงูุทูุฑ ฺฉู ุฏุฑ ูุงฺฏโูุง ูโุจูุฏ)
โ **ูุงู `.env.bot` ุขูุงุฏู ุงุณุช**

## ุงุณุชุงุฑุช ุฑุจุงุช (3 ุฑูุด)

### ุฑูุด 1: ุจุง Make (ุณุงุฏูโุชุฑู)

```bash
make bot-run
```

ุงู ุฏุณุชูุฑ ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ:
- ูุงู `.env.bot` ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ
- ูุชุบุฑูุง ูุญุท ุฑุง ุจุงุฑฺฏุฐุงุฑ ูโฺฉูุฏ
- ุฑุจุงุช ุฑุง ุงุณุชุงุฑุช ูโฺฉูุฏ

### ุฑูุด 2: ุฏุณุช (ุฏุฑ ุชุฑููุงู ุฌุฏุฏ)

```bash
# ุจุงุฑฺฏุฐุงุฑ ูุชุบุฑูุง ูุญุท
export $(cat .env.bot | grep -v '^#' | xargs)

# ุงุณุชุงุฑุช ุฑุจุงุช
go run cmd/bot/main.go
```

### ุฑูุด 3: ฺฉ ุฎุท

```bash
export $(cat .env.bot | grep -v '^#' | xargs) && go run cmd/bot/main.go
```

## ูุงฺฏโูุง ููุฑุฏ ุงูุชุธุงุฑ

ุจุนุฏ ุงุฒ ุงุณุชุงุฑุช ุฑุจุงุชุ ุจุงุฏ ุงู ูุงฺฏโูุง ุฑุง ุจุจูุฏ:

```
Starting Telegram bot in development mode...
Creating bot with token: 8578746464...
Bot authenticated successfully! Username: @chi_beposham_bot (ID: ...)
Starting bot in polling mode...
Getting updates channel...
โ Bot is now listening for updates! Send /start to test.
โ Bot service started successfully!
๐ฑ Send /start to your bot to test it
```

## ุชุณุช ุฑุจุงุช

1. ุฏุฑ Telegram ุจู ุฑุจุงุช ุฎูุฏ ูพุงู ุฏูุฏ: `/start`
2. ุจุงุฏ ูพุงู ุฎูุดโุขูุฏฺฏู ุฑุง ุฏุฑุงูุช ฺฉูุฏ

## ุงุฌุฑุง ููุฒูุงู Backend ู Bot

### ุชุฑููุงู 1: Backend (ุฏุฑ ุญุงู ุงุฌุฑุง)
```
Backend logs...
```

### ุชุฑููุงู 2: Bot (ุงุณุชุงุฑุช ฺฉูุฏ)
```bash
make bot-run
```

## ุนุจโุงุจ ุณุฑุน

### ุงฺฏุฑ ุฎุทุง "TELEGRAM_BOT_TOKEN is required" ูโุจูุฏ:

```bash
# ุจุฑุฑุณ ฺฉูุฏ ฺฉู ูุงู .env.bot ูุฌูุฏ ุฏุงุฑุฏ
ls -la .env.bot

# ุจุฑุฑุณ ูุญุชูุงุช
cat .env.bot | grep TELEGRAM_BOT_TOKEN
```

### ุงฺฏุฑ ุฎุทุง "Failed to initialize database" ูโุจูุฏ:

- ุฏุชุงุจุณ ุจุงุฏ ุฏุฑ ุฏุณุชุฑุณ ุจุงุดุฏ
- ุงุฒ ููุงู ุฏุชุงุจุณ backend ุงุณุชูุงุฏู ูโุดูุฏ
- ุจุฑุฑุณ ฺฉูุฏ ฺฉู `POSTGRES_DSN` ุฏุฑ `.env.bot` ุฏุฑุณุช ุงุณุช

### ุงฺฏุฑ ุฑุจุงุช ุงุณุชุงุฑุช ูโุดูุฏ ูู ูพุงู ููโุฏูุฏ:

1. ุจุฑุฑุณ ฺฉูุฏ ฺฉู ูุงฺฏ "โ Bot is now listening for updates!" ุฑุง ูโุจูุฏ
2. ุฏุฑ Telegram ุจู ุฑุจุงุช `/start` ุจูุฑุณุชุฏ
3. ุจุฑุฑุณ ฺฉูุฏ ฺฉู ูุงฺฏ "๐จ Handling message" ุฑุง ูโุจูุฏ

## ูฺฉุงุช ููู

1. **Backend ุจุงุฏ ุฏุฑ ุญุงู ุงุฌุฑุง ุจุงุดุฏ** - ุฑุจุงุช ุจู API backend ูุงุฒ ุฏุงุฑุฏ
2. **ูุฑ ุฏู ุณุฑูุณ ูโุชูุงููุฏ ููุฒูุงู ุงุฌุฑุง ุดููุฏ** - ุฏุฑ ุชุฑููุงูโูุง ุฌุฏุงฺฏุงูู
3. **Redis ุงุฎุชุงุฑ ุงุณุช** - ุงฺฏุฑ Redis ุฏุฑ ุฏุณุชุฑุณ ูุจุงุดุฏุ ุฑุจุงุช ฺฉุงุฑ ูโฺฉูุฏ ูู rate limiting ฺฉุงุฑ ููโฺฉูุฏ

## ุฏุณุชูุฑุงุช ููุฏ

```bash
# ุชุณุช ูพฺฉุฑุจูุฏ
./scripts/test-bot.sh

# ุงุณุชุงุฑุช ุฑุจุงุช
make bot-run

# ุจุฑุฑุณ ูุงฺฏโูุง
# (ูุงฺฏโูุง ุฏุฑ ููุงู ุชุฑููุงู ฺฉู ุฑุจุงุช ุฑุง ุงุฌุฑุง ฺฉุฑุฏูโุงุฏ ููุงุด ุฏุงุฏู ูโุดููุฏ)
```

---

**ุญุงูุง ุฑุจุงุช ุฑุง ุงุณุชุงุฑุช ฺฉูุฏ ู ูุชุฌู ุฑุง ุจุจูุฏ!** ๐

