# AI Styler Backend Environment Configuration
# Copy this file to .env and update the values for your environment

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DB_HOST=localhost
DB_PORT=5432
DB_USER=styler_user
DB_PASSWORD=your-secure-database-password
DB_NAME=styler
DB_SSLMODE=disable
DB_MAX_OPEN_CONNS=100
DB_MAX_IDLE_CONNS=10
DB_CONN_MAX_LIFETIME=5m
DB_CONN_MAX_IDLE_TIME=1m

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your-secure-redis-password
REDIS_DB=0
REDIS_POOL_SIZE=100
REDIS_MIN_IDLE_CONNS=10
REDIS_MAX_RETRIES=3
REDIS_DIAL_TIMEOUT=5s
REDIS_READ_TIMEOUT=3s
REDIS_WRITE_TIMEOUT=3s
REDIS_POOL_TIMEOUT=4s

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
HTTP_ADDR=:8080
GIN_MODE=release

# =============================================================================
# JWT CONFIGURATION
# =============================================================================
# Generate a secure JWT secret (minimum 32 characters)
# You can use: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-in-production-minimum-32-chars
JWT_ACCESS_TTL=15m
JWT_REFRESH_TTL=720h
JWT_SECRET_LENGTH=64

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
BCRYPT_COST=12
ARGON2_MEMORY=65536
ARGON2_ITERATIONS=3
ARGON2_PARALLELISM=2
ARGON2_SALT_LENGTH=16
ARGON2_KEY_LENGTH=32
SESSION_TIMEOUT=24h
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=15m

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================
STORAGE_PATH=/app/uploads
UPLOAD_MAX_SIZE=50MB
SIGNED_URL_TTL=1h

# =============================================================================
# GEMINI AI CONFIGURATION
# =============================================================================
# Get your API key from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your-gemini-api-key-here
GEMINI_BASE_URL=https://generativelanguage.googleapis.com
GEMINI_MODEL=gemini-pro-vision
GEMINI_TIMEOUT=300
GEMINI_MAX_RETRIES=3

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================
ENVIRONMENT=production
LOG_LEVEL=info
HEALTH_ENABLED=true
METRICS_ENABLED=true
TRACING_ENABLED=true
PROFILING_ENABLED=false
LOG_RETENTION_DAYS=30

# Telegram Bot Configuration (Optional)
# Create a bot with @BotFather and get the token
TELEGRAM_BOT_TOKEN=your-telegram-bot-token
TELEGRAM_CHAT_ID=your-telegram-chat-id

# Sentry Configuration (Optional)
# Get your DSN from: https://sentry.io/settings/projects/
SENTRY_DSN=your-sentry-dsn-here

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================
RATE_LIMIT_OTP_PER_PHONE=3
RATE_LIMIT_OTP_PER_IP=100
RATE_LIMIT_LOGIN_PER_PHONE=5
RATE_LIMIT_LOGIN_PER_IP=10
RATE_LIMIT_WINDOW=1h

# =============================================================================
# SMS CONFIGURATION
# =============================================================================
SMS_PROVIDER=sms_ir
SMS_API_KEY=your-sms-api-key
SMS_TEMPLATE_ID=100000

# =============================================================================
# PAYMENT CONFIGURATION
# =============================================================================
# ZarinPal Configuration
# Get your merchant ID from: https://zarinpal.com/
ZARINPAL_MERCHANT_ID=your-zarinpal-merchant-id
ZARINPAL_SANDBOX=false
ZARINPAL_CALLBACK_URL=https://api.aistyler.com/api/v1/payments/callback

# =============================================================================
# ALERT THRESHOLDS
# =============================================================================
ALERT_ERROR_RATE=0.05
ALERT_RESPONSE_TIME=2.0
ALERT_CPU_USAGE=0.80
ALERT_MEMORY_USAGE=0.85
ALERT_DISK_USAGE=0.90

# =============================================================================
# GRAFANA CONFIGURATION (Optional)
# =============================================================================
GRAFANA_PASSWORD=your-grafana-admin-password

# =============================================================================
# DEVELOPMENT OVERRIDES
# =============================================================================
# Uncomment these for development environment
# ENVIRONMENT=development
# LOG_LEVEL=debug
# GIN_MODE=debug
# DB_SSLMODE=disable
# ZARINPAL_SANDBOX=true
# PROFILING_ENABLED=true
