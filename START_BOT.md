# ุฑุงูููุง ุงุณุชุงุฑุช ุฑุจุงุช ุชูฺฏุฑุงู

## ูุถุนุช ูุนู

โ **Backend ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุช** (ุฑู ูพูุฑุช 8080)
โ **ูุงู `.env.bot` ุงุฌุงุฏ ุดุฏ** ุจุง ุชูุธูุงุช ุตุญุญ

## ูุฑุงุญู ุงุณุชุงุฑุช ุฑุจุงุช

### ูุฑุญูู 1: ุจุฑุฑุณ ูุงู ูพฺฉุฑุจูุฏ

ูุงู `.env.bot` ุจุงุฏ ููุฌูุฏ ุจุงุดุฏ ู ุดุงูู ุงู ููุงุฑุฏ ุจุงุดุฏ:
- `TELEGRAM_BOT_TOKEN` - ุชูฺฉู ุฑุจุงุช ุงุฒ BotFather
- `API_BASE_URL=http://localhost:8080` - ุขุฏุฑุณ backend
- `POSTGRES_DSN` - ุงุทูุงุนุงุช ุฏุชุงุจุณ

### ูุฑุญูู 2: ุจุงุฑฺฏุฐุงุฑ ูุชุบุฑูุง ูุญุท

```bash
# ุฏุฑ ุชุฑููุงู ุฌุฏุฏ (ุง ููุงู ุชุฑููุงู ฺฉู backend ุฑุง ุงุฌุฑุง ฺฉุฑุฏูโุงุฏ)
export $(cat .env.bot | grep -v '^#' | xargs)
```

### ูุฑุญูู 3: ุงุณุชุงุฑุช ุฑุจุงุช

```bash
# ุฑูุด 1: ุงุฌุฑุง ูุณุชูู
go run cmd/bot/main.go

# ุฑูุด 2: ุจุง Make
make bot-run
```

### ูุฑุญูู 4: ุจุฑุฑุณ ูุงฺฏโูุง

ุจุงุฏ ุงู ูุงฺฏโูุง ุฑุง ุจุจูุฏ:

```
Starting Telegram bot in development mode...
Creating bot with token: 8578746464...
Bot authenticated successfully! Username: @chi_beposham_bot (ID: ...)
Starting bot in polling mode...
Getting updates channel...
โ Bot is now listening for updates! Send /start to test.
โ Bot service started successfully!
๐ฑ Send /start to your bot to test it
```

### ูุฑุญูู 5: ุชุณุช ุฑุจุงุช

1. ุฏุฑ Telegram ุจู ุฑุจุงุช ุฎูุฏ ูพุงู ุฏูุฏ: `/start`
2. ุจุงุฏ ูพุงู ุฎูุดโุขูุฏฺฏู ุฑุง ุฏุฑุงูุช ฺฉูุฏ

## ุนุจโุงุจ

### ูุดฺฉู: "TELEGRAM_BOT_TOKEN is required"
**ุฑุงู ุญู:**
```bash
export $(cat .env.bot | grep -v '^#' | xargs)
echo $TELEGRAM_BOT_TOKEN  # ุจุงุฏ ุชูฺฉู ุฑุง ูุดุงู ุฏูุฏ
```

### ูุดฺฉู: "Failed to initialize database"
**ุฑุงู ุญู:**
- ุฏุชุงุจุณ ุจุงุฏ ุฏุฑ ุฏุณุชุฑุณ ุจุงุดุฏ
- `POSTGRES_DSN` ุฑุง ุฏุฑ `.env.bot` ุจุฑุฑุณ ฺฉูุฏ
- ุงุฒ ููุงู ุฏุชุงุจุณ backend ุงุณุชูุงุฏู ฺฉูุฏ

### ูุดฺฉู: "Failed to verify bot token"
**ุฑุงู ุญู:**
- TOKEN ุฑุง ุงุฒ @BotFather ุฏูุจุงุฑู ุฏุฑุงูุช ฺฉูุฏ
- ูุทูุฆู ุดูุฏ TOKEN ฺฉุงูู ู ุฏุฑุณุช ุงุณุช

### ูุดฺฉู: ุฑุจุงุช ุงุณุชุงุฑุช ูโุดูุฏ ูู ูพุงู ููโุฏูุฏ
**ุจุฑุฑุณ:**
1. ุขุง ูุงฺฏ "โ Bot is now listening for updates!" ุฑุง ูโุจูุฏุ
2. ุขุง ูพุงู `/start` ุฑุง ุจู ุฑุจุงุช ูุฑุณุชุงุฏูโุงุฏุ
3. ุขุง ูุงฺฏ "๐จ Handling message" ุฑุง ูโุจูุฏุ

## ุงุฌุฑุง ููุฒูุงู Backend ู Bot

ุจุฑุง ุงุฌุฑุง ููุฒูุงู:

### ุชุฑููุงู 1: Backend
```bash
go run cmd/main.go
```

### ุชุฑููุงู 2: Bot
```bash
export $(cat .env.bot | grep -v '^#' | xargs)
go run cmd/bot/main.go
```

## ุชุณุช ุณุฑุน

```bash
# 1. ุชุณุช ูพฺฉุฑุจูุฏ
./scripts/test-bot.sh

# 2. ุงุณุชุงุฑุช ุฑุจุงุช
export $(cat .env.bot | grep -v '^#' | xargs)
go run cmd/bot/main.go
```

## ูฺฉุงุช ููู

1. **Backend ุจุงุฏ ุฏุฑ ุญุงู ุงุฌุฑุง ุจุงุดุฏ** - ุฑุจุงุช ุจู API backend ูุงุฒ ุฏุงุฑุฏ
2. **ุฏุชุงุจุณ ูุดุชุฑฺฉ** - ุฑุจุงุช ุงุฒ ููุงู ุฏุชุงุจุณ backend ุงุณุชูุงุฏู ูโฺฉูุฏ
3. **Redis ุงุฎุชุงุฑ ุงุณุช** - ุงฺฏุฑ Redis ุฏุฑ ุฏุณุชุฑุณ ูุจุงุดุฏุ ุฑุจุงุช ฺฉุงุฑ ูโฺฉูุฏ ูู rate limiting ฺฉุงุฑ ููโฺฉูุฏ
4. **ูพูุฑุช 8080** - Backend ุจุงุฏ ุฑู ูพูุฑุช 8080 ุฏุฑ ุญุงู ุงุฌุฑุง ุจุงุดุฏ

## ูุถุนุช ูุนู

โ Backend: ุฏุฑ ุญุงู ุงุฌุฑุง (ูพูุฑุช 8080)
โ Database: ูุชุตู
โ๏ธ  Redis: ุฏุฑ ุฏุณุชุฑุณ ูุณุช (ุงุฎุชุงุฑ)
โ Bot Config: ุขูุงุฏู

**ุญุงูุง ูโุชูุงูุฏ ุฑุจุงุช ุฑุง ุงุณุชุงุฑุช ฺฉูุฏ!**

